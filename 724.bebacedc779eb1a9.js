"use strict";(self.webpackChunkmy_store=self.webpackChunkmy_store||[]).push([[724],{724:(L,_,r)=>{r.r(_),r.d(_,{CategoriesModule:()=>s});var y=r(6895),i=r(4006),u=r(1635),e=r(4650),Z=r(4655),n=r(7155),v=r(7392),C=r(4859);function x(a,t){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"No."),e.qZA())}function N(a,t){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const o=t.$implicit;e.xp6(1),e.Oqu(o.id)}}function F(a,t){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Name"),e.qZA())}function b(a,t){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const o=t.$implicit;e.xp6(1),e.Oqu(o.name)}}function w(a,t){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Image"),e.qZA())}function A(a,t){if(1&a&&(e.TgZ(0,"mat-cell"),e._UZ(1,"img",12),e.qZA()),2&a){const o=t.$implicit;e.xp6(1),e.Q6J("src",o.image,e.LSH)("alt",o.name)}}function U(a,t){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Edit"),e.qZA())}const S=function(a){return["edit",a]};function Y(a,t){if(1&a&&(e.TgZ(0,"mat-cell")(1,"a",13)(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()()),2&a){const o=t.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,S,o.id))}}function q(a,t){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Delete"),e.qZA())}function J(a,t){if(1&a){const o=e.EpF();e.TgZ(0,"mat-cell")(1,"button",14),e.NdJ("click",function(){const R=e.CHM(o).$implicit,X=e.oxw();return e.KtG(X.deleteCategory(R.id))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()()}}function Q(a,t){1&a&&e._UZ(0,"mat-header-row")}function I(a,t){1&a&&e._UZ(0,"mat-row")}class g{constructor(t){this.categoryService=t,this.displayedColumns=["id","name","image","update","delete"],this.dataSource=[]}ngOnInit(){this.categoryService.getCategories().subscribe(t=>{this.dataSource=t})}deleteCategory(t){this.categoryService.delete(t).subscribe(()=>{this.categoryService.getCategories().subscribe(o=>{this.dataSource=o})})}}g.\u0275fac=function(t){return new(t||g)(e.Y36(Z.H))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-categories"]],decls:24,vars:3,consts:[[1,"header"],["mat-stroked-button","","color","primary","routerLink","create"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","image"],["matColumnDef","update"],["matColumnDef","delete"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["width","70","height","70",2,"object-fit","contain",3,"src","alt"],["mat-stroked-button","","color","primary",3,"routerLink"],["mat-button","","color","warn","aria-label","icon button wia delete icon",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Category"),e.qZA(),e.TgZ(3,"a",1)(4,"mat-icon"),e._uU(5,"add_circle"),e.qZA()()(),e.TgZ(6,"mat-table",2),e.ynx(7,3),e.YNc(8,x,2,0,"mat-header-cell",4),e.YNc(9,N,2,1,"mat-cell",5),e.BQk(),e.ynx(10,6),e.YNc(11,F,2,0,"mat-header-cell",4),e.YNc(12,b,2,1,"mat-cell",5),e.BQk(),e.ynx(13,7),e.YNc(14,w,2,0,"mat-header-cell",4),e.YNc(15,A,2,2,"mat-cell",5),e.BQk(),e.ynx(16,8),e.YNc(17,U,2,0,"mat-header-cell",4),e.YNc(18,Y,4,3,"mat-cell",5),e.BQk(),e.ynx(19,9),e.YNc(20,q,2,0,"mat-header-cell",4),e.YNc(21,J,4,0,"mat-cell",5),e.BQk(),e.YNc(22,Q,1,0,"mat-header-row",10),e.YNc(23,I,1,0,"mat-row",11),e.qZA()),2&t&&(e.xp6(6),e.Q6J("dataSource",o.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[u.rH,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,v.Hw,C.zs,C.lW],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 2rem}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#3e51b5;color:#fff;display:flex;place-content:flex-end}.mat-mdc-table[_ngcontent-%COMP%]{width:100%;max-height:500px;overflow:auto}.mat-column-name[_ngcontent-%COMP%]{height:100px}"]});var m=r(3546),d=r(9549),T=r(4144);function D(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Your Name is required "),e.qZA())}function O(a,t){if(1&a&&(e.TgZ(0,"div",8),e.YNc(1,D,2,0,"mat-error",9),e.qZA()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.nameField?null:o.nameField.hasError("required"))}}function M(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," The image is required "),e.qZA())}function j(a,t){if(1&a&&(e.TgZ(0,"div",8),e.YNc(1,M,2,0,"mat-error",9),e.qZA()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.imageField?null:o.imageField.hasError("required"))}}function B(a,t){if(1&a&&e._UZ(0,"img",10),2&a){const o=e.oxw();e.Q6J("src",null==o.imageField?null:o.imageField.value,e.LSH)("alt",null==o.nameField?null:o.nameField.value)}}class p{set category(t){t&&(console.log(t),this.isNew=!1,this.form.patchValue({image:t.image,name:t.name}))}constructor(t){this.fb=t,this.isNew=!0,this.create=new e.vpe,this.update=new e.vpe,this.form=new i.cw({}),this.buildForm()}buildForm(){this.form=this.fb.group({name:["",i.kI.required],image:["",i.kI.required]})}save(){this.form.valid?this.isNew?this.create.emit(this.form.value):this.update.emit(this.form.value):this.form.markAllAsTouched()}validValues(t){return this.form.get(t)?.touched&&this.form.get(t)?.invalid}get nameField(){return this.form.get("name")}get imageField(){return this.form.get("image")}}p.\u0275fac=function(t){return new(t||p)(e.Y36(i.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-form-categories"]],inputs:{category:"category"},outputs:{create:"create",update:"update"},decls:28,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xs"],["placeholder","Name","formControlName","name","matInput","","type","text"],["class","messages",4,"ngIf"],["placeholder","Image","formControlName","image","matInput","","type","text"],["width","70","style","object-fit: contain","height","70",3,"src","alt",4,"ngIf"],["mat-raised-button","","type","submit"],[1,"messages"],[4,"ngIf"],["width","70","height","70",2,"object-fit","contain",3,"src","alt"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),e._uU(4),e.qZA()(),e.TgZ(5,"mat-card-content")(6,"div",1)(7,"div",2)(8,"mat-form-field")(9,"mat-label"),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",3),e.YNc(12,O,2,1,"div",4),e.qZA()()(),e.TgZ(13,"div",1)(14,"div",2)(15,"mat-form-field")(16,"mat-label"),e._uU(17,"Image"),e.qZA(),e._UZ(18,"input",5),e.YNc(19,j,2,1,"div",4),e.qZA(),e.YNc(20,B,1,2,"img",6),e.TgZ(21,"mat-hint"),e._uU(22,"example: "),e.TgZ(23,"i"),e._uU(24,"https://picsum.photos/200"),e.qZA()()()()(),e.TgZ(25,"mat-card-actions")(26,"button",7),e._uU(27),e.qZA()()()()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(4),e.hij("",o.isNew?"Create":"Update"," Category"),e.xp6(8),e.Q6J("ngIf",o.validValues("name")),e.xp6(7),e.Q6J("ngIf",o.validValues("image")),e.xp6(1),e.Q6J("ngIf",!o.isNew),e.xp6(7),e.hij(" ",o.isNew?"Create":"Update"," category "))},dependencies:[y.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,C.lW,m.a8,m.hq,m.dn,m.dk,m.n5,d.KE,d.hX,d.bx,d.TO,T.Nt]});class c{constructor(t,o,f){this.categoryService=t,this.router=o,this.route=f}ngOnInit(){this.route.params.subscribe(t=>{t.id&&this.getCategory(t.id)})}getCategory(t){this.categoryService.getCategory(t).subscribe(o=>{this.category=o})}createCategory(t){this.categoryService.create(t).subscribe(()=>{this.router.navigate(["/admin/categories/"])})}updateCategory(t){this.categoryService.update(this.category.id,t).subscribe(()=>{this.router.navigate(["/admin/categories/"])})}}c.\u0275fac=function(t){return new(t||c)(e.Y36(Z.H),e.Y36(u.F0),e.Y36(u.gz))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-smart-form-categories"]],decls:1,vars:1,consts:[[3,"category","create","update"]],template:function(t,o){1&t&&(e.TgZ(0,"app-form-categories",0),e.NdJ("create",function(h){return o.createCategory(h)})("update",function(h){return o.updateCategory(h)}),e.qZA()),2&t&&e.Q6J("category",o.category)},dependencies:[p]});const H=[{path:"",component:g},{path:"create",component:c},{path:"edit/:id",component:c}];class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[u.Bz.forChild(H),u.Bz]});var k=r(6308),z=r(7974);class s{}s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[y.ez,i.UX,l,n.p0,k.JX,z.TU,v.Ps,C.ot,m.QW,d.lN,T.c]})}}]);